# Model (for classification heads only - features are pre-extracted)
model:
  name: "microsoft/wavlm-base-plus"  # Used for hidden_size reference
  num_genders: 2
  num_dialects: 3
  dropout: 0.1
  head_hidden_dim: 256

# Training
training:
  batch_size: 32
  learning_rate: 5e-5
  num_epochs: 15
  warmup_ratio: 0.125
  weight_decay: 0.0125
  gradient_clip: 1.0
  lr_scheduler: "linear"
  fp16: true
  dataloader_num_workers: 4

# Loss
loss:
  dialect_weight: 3.0

# MLflow Configuration
mlflow:
  enabled: true
  tracking_uri: "mlruns"
  experiment_name: "speaker-profiling"
  run_name: null
  registered_model_name: null

# Dataset paths - point to folders created by prepare_data.py
# Structure: datasets/{DatasetName}/{split}/
#   ├── features/     # .npy files
#   └── metadata.csv  # labels
data:
  # === RAW DATASET PATHS (for prepare_data.py) ===
  # Root directory of ViSpeech dataset
  vispeech_root: "/home/ubuntu/DataScience/Voice_Pro_filing/vispeech_data/ViSpeech"
  
  # Training set
  train_meta: "/home/ubuntu/DataScience/Voice_Pro_filing/vispeech_data/ViSpeech/metadata/trainset.csv"
  train_audio: "/home/ubuntu/DataScience/Voice_Pro_filing/vispeech_data/ViSpeech/trainset"
  
  # Test sets
  clean_test_meta: "/home/ubuntu/DataScience/Voice_Pro_filing/vispeech_data/ViSpeech/metadata/clean_testset.csv"
  clean_test_audio: "/home/ubuntu/DataScience/Voice_Pro_filing/vispeech_data/ViSpeech/clean_testset"
  noisy_test_meta: "/home/ubuntu/DataScience/Voice_Pro_filing/vispeech_data/ViSpeech/metadata/noisy_testset.csv"
  noisy_test_audio: "/home/ubuntu/DataScience/Voice_Pro_filing/vispeech_data/ViSpeech/noisy_testset"
  
  # Validation split ratio (from trainset)
  val_split: 0.15
  
  # === EXTRACTED FEATURES PATHS (for finetune.py) ===
  # After running prepare_data.py, features will be saved here
  train_dir: "datasets/ViSpeech/train"
  val_dir: "datasets/ViSpeech/val"

# Output
output:
  dir: "output/speaker-profiling"
  save_total_limit: 3
  metric_for_best_model: "dialect_acc"

# Early Stopping
early_stopping:
  patience: 3
  threshold: 0.0025

# Label Mappings (must match prepare_data.py)
labels:
  gender:
    Male: 0
    Female: 1
  dialect:
    North: 0
    Central: 1
    South: 2

# Reproducibility
seed: 42
